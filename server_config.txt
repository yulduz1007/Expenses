/etc/nginx/sites-available/expenses_yulduz

server {
    listen       8080;
    server_name  188.225.72.20;

    location = /favicon.ico { access_log off; log_not_found off; }

    location /static/ {
        root /var/www/Yulduz/Expenses;
    }

    location /media/ {
        root /var/www/Yulduz/Expenses;
    }

    location / {
        include proxy_params;
        proxy_pass http://unix:/var/www/Yulduz/Expenses/falcon.sock;
    }
}



/etc/systemd/system/expenses_yulduz.service


[Unit]
Description=gunicorn daemon
After=network.target

[Service]
User=root
Group=www-data
WorkingDirectory=/var/www/Yulduz/Expenses
ExecStart=/var/www/Yulduz/Expenses/.venv/bin/gunicorn --workers 3 --bind unix:/var/www/Yulduz/Expenses/falcon.sock root.wsgi:application

[Install]
WantedBy=multi-user.target



systemctl start expenses_yulduz.service
systemctl enable expenses_yulduz.service
systemctl restart expenses_yulduz.service
systemctl status expenses_yulduz.service
systemctl stop expenses_yulduz.service


systemctl start service
systemctl enable service
systemctl stop service
systemctl restart service




1. comp -> github, gitlab, bitbucket -> server

2. comp -> server



scp file root@IP:/var/www
python3 manage.py runserver 0:8080



/etc/nginx/sites-available/expenses_yulduz

ln -s /etc/nginx/sites-available/expenses_yulduz /etc/nginx/sites-enabled/

/etc/nginx/sites-enabled/
sudo nginx -t



ufw:
    sudo ufw allow 'Nginx HTTP'
    sudo ufw allow 22
    sudo ufw allow 80
    sudo ufw allow 443
    sudo ufw allow 8080
    sudo ufw reload

terminalda ishlatish kerak ohirida:
    ls -l /var/www/p25/dilshod/allauth/falcon.sock
    sudo chown www-data:www-data /var/www/p25/dilshod/allauth/falcon.sock
    sudo chmod 660 /var/www/p25/dilshod/allauth/falcon.sock
    python manage.py collectstatic